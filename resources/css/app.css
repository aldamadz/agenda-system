@import 'tailwindcss';
@import '../../vendor/livewire/flux/dist/flux.css';

@source '../views';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../vendor/livewire/flux-pro/stubs/**/*.blade.php';
@source '../../vendor/livewire/flux/stubs/**/*.blade.php';

@custom-variant dark (&:where(.dark, .dark *));

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif;

    /* Palette Modern Deep Midnight */
    --color-slate-950: #020617;
    --color-indigo-500: #6366f1;
    --color-fuchsia-500: #d946ef;

    --color-accent: var(--color-indigo-500);
    /* --color-accent-content dihapus dari sini agar tidak dipaksa putih terus menerus */
}

/* --- Modern Glassmorphism Utilities --- */
@utility glass-card {
    background-color: color-mix(in srgb, var(--color-white) 60%, transparent);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid color-mix(in srgb, var(--color-white) 40%, transparent);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);

    @variant dark {
        background-color: color-mix(in srgb, #0f172a 60%, transparent);
        border: 1px solid color-mix(in srgb, var(--color-white) 10%, transparent);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
    }
}

@utility glass-noise {
    position: relative;
    &::before {
        content: "";
        position: absolute;
        inset: 0;
        z-index: -1;
        opacity: 0.05;
        pointer-events: none;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.80' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    }
}

@layer base {
    /* PERBAIKAN: Kontrol warna teks aktif secara dinamis */
    :root {
        --color-accent-content: #312e81; /* Indigo-900 (Gelap untuk Light Mode) */
    }

    .dark {
        --color-accent-content: #ffffff; /* Putih untuk Dark Mode */
    }

    *, ::after, ::before { border-color: color-mix(in srgb, var(--color-slate-200) 50%, transparent); }
    .dark * { border-color: color-mix(in srgb, var(--color-slate-800) 50%, transparent); }
}

[data-flux-control]:focus {
    @apply outline-hidden ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-950;
}
